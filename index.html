<!DOCTYPE html>
<head>
<meta charset="utf-8">
<meta name="viewport" content="width=device-width">
<title>D3 Lightning Presentation</title>
<link rel="stylesheet" href="mystack.css">  
</head>

<section>
  <h1>Data Visualization with d3.js</h1>
    <h2>Lightning Presentation</h2>
    <aside class="grey">Available on  <a id="gh_profile" href="http://github.com/binaworks/stack">
    Github
    <img class="my_img" src="images/GitHub-Mark-Light-32px.png" alt="View GitHub Repository"
         title="View GitHub Account">
</a></aside>
</section>

<section>
  <p>Task Master :
      <q>The Financial page needs a chart.</q>
    </p>
  <p>Developer:</p>
    <img alt="Google financial chart javascript free" title="Google for help" src="images/google_search.png">

</section>

<section>
  <h3>Ready to use charts VS Customizability</h3>
  <p>Choosing a library with ready to use charts seems like the easy solution, 
    until you start getting requests to customize.</p>
  <ul>
    <li>Can you change the axis tick label format to K units (divide by 1000)?</li>
    <li>Can you move the legend to a different part of the page?</li>
    <li>...</li>
  </ul>
</section>

<section>
<h1>
  <svg width="96" height="91" style="position:relative;top:22px;">
    <clipPath id="clip">
      <path d="M0,0h7.75a45.5,45.5 0 1 1 0,91h-7.75v-20h7.75a25.5,25.5 0 1 0 0,-51h-7.75zm36.2510,0h32a27.75,27.75 0 0 1 21.331,45.5a27.75,27.75 0 0 1 -21.331,45.5h-32a53.6895,53.6895 0 0 0 18.7464,-20h13.2526a7.75,7.75 0 1 0 0,-15.5h-7.75a53.6895,53.6895 0 0 0 0,-20h7.75a7.75,7.75 0 1 0 0,-15.5h-13.2526a53.6895,53.6895 0 0 0 -18.7464,-20z"/>
    </clipPath>
    <linearGradient id="gradient-1" gradientUnits="userSpaceOnUse" x1="7" y1="64" x2="50" y2="107">
      <stop offset="0" stop-color="#f9a03c"/>
      <stop offset="1" stop-color="#f7974e"/>
    </linearGradient>
    <linearGradient id="gradient-2" gradientUnits="userSpaceOnUse" x1="2" y1="-2" x2="87" y2="84">
      <stop offset="0" stop-color="#f26d58"/>
      <stop offset="1" stop-color="#f9a03c"/>
    </linearGradient>
    <linearGradient id="gradient-3" gradientUnits="userSpaceOnUse" x1="45" y1="-10" x2="108" y2="53">
      <stop offset="0" stop-color="#b84e51"/>
      <stop offset="1" stop-color="#f68e48"/>
    </linearGradient>
    <g clip-path="url(#clip)">
      <path d="M-100,-102m-27,0v300h300z" fill="url(#gradient-1)"/>
      <path d="M-100,-102m27,0h300v300z" fill="url(#gradient-3)"/>
      <path d="M-100,-102l300,300" fill="none" stroke="url(#gradient-2)" stroke-width="40"/>
    </g>
  </svg>
  <a href="http://d3js.org">Data-Driven Documents</a>
</h1>
<br/>
<p>JavaScript library</p>
<p>Data visualization using HTML, SVG, CSS</p>
<p>Declarative, data-driven DOM manipulation</p>
</section>

<section>
  <h3>Reuse by Composition</h3>
<ul>
  <li>
    <a href="https://github.com/mbostock/d3/wiki/API-Reference#d3-core">Core</a> - selections, transitions, data, localization,
    colors, etc.</li>
  <li>
    <a href="https://github.com/mbostock/d3/wiki/API-Reference#d3scale-scales">Scales</a> - convert between data and visual
    encodings</li>
  <li>
    <a href="https://github.com/mbostock/d3/wiki/API-Reference#d3svg-svg">SVG</a> - utilities for creating shapes, axes, controls</li>
  <li>
    <a href="https://github.com/mbostock/d3/wiki/API-Reference#d3behavior-behaviors">Behaviors</a> - reusable interaction
    behaviors (drag, zoom)</li>
  <li>
    <a href="https://github.com/mbostock/d3/wiki/API-Reference#d3geo-geography">Geography</a> - project spherical coordinates,
    latitude &amp; longitude math</li>
  <li>
    <a href="https://github.com/mbostock/d3/wiki/API-Reference#d3geom-geometry">Geometry</a> - utilities for 2D geometry,
    such as Voronoi diagrams and quadtrees</li>
  <li>
    <a href="https://github.com/mbostock/d3/wiki/API-Reference#d3layout-layouts">Layouts</a> - derive secondary data for
    positioning elements</li>
  <li>
    <a href="https://github.com/mbostock/d3/wiki/API-Reference#d3time-time">Time</a> - parse or format times, compute calendar
    intervals, etc.</li>
</ul>
</section>
<section>
  <h3>General Update Pattern</h1>
  <div id="controls">
    <div >
        <button onclick="mysample.next()">Update</button>
    </div>
    <svg width="200" height="400">
        <g id="circles"/>
    </svg>
  </div>
 <div id="update_code">
 <pre >
   <code>
var <var>data</var> = [<span id="numbers"></span>];

var <var>selection</var> = svgG.<strong>selectAll</strong>("circle")
  .<strong>data</strong>(data);
 
selection.<strong>transition()
  .duration</strong>(750)
  .attr("r", function (d) { return d; });

selection.<strong>enter().append</strong>("circle")
  .attr("cy", function (d, i) { return 100 * i + 50; })
  .attr("cx", 100)
  .attr("r", function (d) { return d; });

selection.<strong>exit().remove()</strong>;
  </code>
</pre>
</div>
</section>
<section>
<h3>Learning by Example</h3>
<h4><a title="Blocks on GitHub" href="http://bl.ocks.org/mbostock">
mbostock's blocks</a></h4>
<a href="http://bost.ocks.org/mike/bar">Letâ€™s Make a Bar Chart, Parts 1-3<br>
<img class="preview" src="http://bost.ocks.org/mike/bar.png"></a><br>
<a href="http://bl.ocks.org/mbostock/2368837">Bar Chart with Negative Values<br>
<img class="preview" alt="Bar Chart with Negative Values" src="http://bl.ocks.org/mbostock/raw/2368837/thumbnail.png">
</a><br>
</section>
<section>
  <h3>D3 <a href="https://github.com/mbostock/d3/wiki/Plugins">Plugins</a></h3>
<p>Community contributions of reusable data viz work</p>
<p>Example: <a href="https://github.com/d3/d3-plugins/tree/master/sankey">Sankey plugin</a>
<ul>
  <li>Configurable</li>
  <li>Computes positions of nodes in a Sankey diagram</li>
  <li>Used in <a href="http://bost.ocks.org/mike/sankey/">demo</a>, 
  <a href="http://uo-lca.github.io/dist/#/home/fragment-sankey?scenarioID=1016&fragmentID=54">my last project</a>
  </li>
</ul>
</section>
<section>
  <h3>Why use d3.js?</h3>
  <p>It is fun (for JavaScript developers)!</p>
  <aside class="grey">This presentation was created by Sabina Beraha <br>
  and implemented using <a href="https://github.com/mbostock/stack">stack</a>.</aside>
</section>
<script src="d3.v3.min.js"></script>
<script src="stack.v1.min.js"></script>
<script src="update_sample.js"></script>
<script>

var mystack = stack()
    .on("activate", activate)
    .on("deactivate", deactivate);

var section = d3.selectAll("section"),
    follow = d3.select("#follow"),
    followAnchor = d3.select("#follow-anchor"),
    followIndex = section[0].indexOf(follow.node());
    
var mysample = update_sample();

function refollow() {
  followAnchor.style("top", (followIndex + (1 - mystack.scrollRatio()) / 2 - d3.event.offset) * 100 + "%");
}

function activate(d, i) {
  if (i === followIndex) mystack.on("scroll.follow", refollow);
}

function deactivate(d, i) {
  if (i === followIndex) mystack.on("scroll.follow", null);
}

</script>

